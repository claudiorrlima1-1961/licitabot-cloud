<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LICITABOT ‚Äî Assessoria</title>
  <style>
    :root{--bg:#f4f6f8;--card:#0b3d5c;--txt:#e6f0f6;--ink:#0f172a;--muted:#94a3b8;--panel:#eef2f6}
    html,body{height:100%;margin:0}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;background:var(--bg);color:var(--ink)}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px}
    .hero{
      background:var(--card);color:var(--txt);border-radius:24px;padding:28px 22px;box-shadow:0 16px 40px rgba(0,0,0,.25)
    }
    .hero h1{margin:0 0 6px;font-size:28px}
    .hero p{margin:8px 0 0;color:#c7d7e5}
    .login{margin-top:16px;display:grid;gap:10px;max-width:580px}
    .login input{padding:12px 14px;border-radius:14px;border:none}
    .login button{padding:12px 14px;border-radius:14px;border:none;background:#133f5f;color:#fff;font-weight:700;cursor:pointer}
    .content{background:var(--panel);border-radius:20px;margin-top:18px;padding:18px}
    h2{margin:2px 0 10px}
    .ticks{margin:8px 0 10px;color:#0f172a}
    .ticks li{margin:6px 0}
    .ask{margin-top:12px;display:grid;gap:10px}
    .ask input,.ask textarea{padding:12px;border:1px solid #cbd5e1;border-radius:12px}
    .ask button{padding:12px;border-radius:12px;border:none;background:#0b3d5c;color:#fff;font-weight:700;cursor:pointer}
    .muted{color:#64748b;font-size:13px;margin-top:10px}
    .disabled{opacity:.55;pointer-events:none}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <div style="font-size:13px;opacity:.9;margin-bottom:6px">
        N√£o √© apenas um chatbot. √â uma ferramenta de pesquisa constru√≠da a partir de anos de experi√™ncia pr√°tica em licita√ß√µes e contratos.
      </div>
      <h1>LICITABOT ‚Äî Assessoria de Licita√ß√µes e Contratos</h1>
      <p>Acesso restrito a assinantes. Digite a senha de acesso fornecida ap√≥s o pagamento.</p>

      <div class="login">
        <input id="pwd" type="password" placeholder="üîí Senha de acesso"/>
        <button id="btnLogin">Entrar</button>
      </div>
    </div>

    <div class="content">
      <h2>Quais as diferen√ßas</h2>
      <ul class="ticks">
        <li>‚úÖ Base especializada ‚Äî n√£o usamos dados gen√©ricos da internet</li>
        <li>‚úÖ Conhecimento pr√°tico ‚Äî anos de experi√™ncia real em licita√ß√µes e contratos</li>
        <li>‚úÖ Respostas contextuais ‚Äî entende as nuances da sua √°rea</li>
        <li>‚úÖ Fontes citadas ‚Äî voc√™ sabe de onde vem a informa√ß√£o</li>
      </ul>

      <h2>Fa√ßa perguntas espec√≠ficas sobre licita√ß√µes e contratos</h2>
      <div style="color:#475569;margin-top:-6px">Experimente a diferen√ßa de uma IA treinada somente com documentos da √°rea.</div>

      <div class="ask">
        <input id="q" type="text" placeholder="Perguntar" class="disabled"/>
        <textarea id="a" rows="6" placeholder="Resposta" readonly></textarea>
        <button id="btnAsk" class="disabled">Perguntar</button>
      </div>

      <div class="muted">Isto n√£o substitui consulta/parecer jur√≠dico formal.</div>
    </div>
  </div>

<script>
let liberado = false;
const qEl = document.getElementById('q');
const aEl = document.getElementById('a');
const btnAsk = document.getElementById('btnAsk');

function trava(v){
  if(v){ qEl.classList.add('disabled'); btnAsk.classList.add('disabled'); }
  else { qEl.classList.remove('disabled'); btnAsk.classList.remove('disabled'); }
}

async function login(){
  const pwd = (document.getElementById('pwd').value || '').trim();
  const r = await fetch('/login', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({password: pwd})
  });
  if(r.ok){
    liberado = true; trava(false);
    aEl.value = '‚úî Acesso liberado. Agora voc√™ pode perguntar.';
  }else{
    liberado = false; trava(true);
    aEl.value = '‚úñ Senha incorreta.';
  }
}

async function ask(){
  if(!liberado){ return; }
  const question = (qEl.value || '').trim();
  if(!question){ return; }
  aEl.value = 'Consultando a base‚Ä¶';
  const r = await fetch('/ask', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({question})
  });
  if(!r.ok){ aEl.value = 'Erro na consulta.'; return; }
  const j = await r.json();
  aEl.value = 'Licitabot: ' + j.answer;
}

document.getElementById('btnLogin').onclick = login;
btnAsk.onclick = ask;
</script>
</body>
</html>
