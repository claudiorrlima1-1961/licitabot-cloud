<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LICITABOT ‚Äî Licita√ß√µes & Contratos</title>
  <style>
    :root{
      --bg:#0b2f3f; --panel:#0f3e54; --txt:#f1f5f9; --muted:#cbd5e1;
      --box:#e5e7eb; --ink:#0f172a; --cta:#0b3d5c; --ok:#166534; --err:#991b1b;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b2f3f,#0e3447 60%,#e9eef4 60%,#e9eef4);
         font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--ink)}
    .wrap{max-width:880px;margin:28px auto;padding:16px}
    .hero{background:var(--panel);color:var(--txt);border-radius:22px;padding:28px;box-shadow:0 18px 40px rgba(0,0,0,.25)}
    .hero h1{margin:8px 0 14px;font-size:28px}
    .hero p{margin:0 0 18px;color:var(--muted)}
    .row{display:flex;gap:12px}
    .inpt{flex:1;padding:12px 14px;border:none;border-radius:12px;background:#294a5b;color:#fff}
    .btn{background:#1e5169;color:#fff;border:none;border-radius:12px;padding:12px 18px;font-weight:700;cursor:pointer}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .card{margin-top:18px;background:#f3f4f6;border-radius:18px;padding:18px;box-shadow:0 10px 26px rgba(0,0,0,.08)}
    .h2{font-size:22px;margin:0 0 10px}
    .pill{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 4px}
    .pill span{background:#e2e8f0;padding:6px 10px;border-radius:999px;font-size:14px}
    .qa{margin-top:12px}
    textarea{width:100%;min-height:120px;border:1px solid #cbd5e1;border-radius:12px;padding:12px}
    .foot{color:#475569;font-size:12px;margin-top:8px}
    .msg{margin-top:8px;font-size:14px}
    .ok{color:var(--ok)} .err{color:var(--err)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1>LICITABOT ‚Äî Assessoria de Licita√ß√µes e Contratos</h1>
      <p>N√£o √© apenas um chatbot. √â uma excelente ferramenta de pesquisa em uma base especializada
        resultante de anos de experi√™ncia pr√°tica em licita√ß√µes e contratos ‚Äî aplicada a uma IA especializada.</p>

      <div class="row">
        <input id="senha" class="inpt" type="password" placeholder="üîí Senha de acesso"/>
        <button id="btnLogin" class="btn">Entrar</button>
      </div>
      <div id="loginMsg" class="msg"></div>
    </div>

    <div class="card">
      <h2 class="h2">Quais as diferen√ßas</h2>
      <div class="pill">
        <span>‚úÖ Base especializada ‚Äî n√£o usamos dados gen√©ricos da internet</span>
        <span>‚úÖ Conhecimento pr√°tico ‚Äî anos de experi√™ncia real na √°rea</span>
        <span>‚úÖ Respostas contextuais ‚Äî entende nuances de licita√ß√µes</span>
        <span>‚úÖ Fontes citadas ‚Äî voc√™ sabe de onde vem a informa√ß√£o</span>
      </div>
    </div>

    <div class="card">
      <h2 class="h2">Fa√ßa perguntas espec√≠ficas sobre licita√ß√µes e contratos</h2>
      <p style="margin:0 0 8px;color:#475569">
        Experimente a diferen√ßa de uma IA treinada exclusivamente com documentos da √°rea.
      </p>
      <div class="row" style="gap:8px">
        <input id="pergunta" class="inpt" type="text" placeholder="Perguntar" disabled/>
        <button id="btnAsk" class="btn" disabled>Perguntar</button>
      </div>
      <div class="qa">
        <textarea id="resposta" placeholder="Licitabot:" readonly></textarea>
      </div>
      <div class="foot">
        Isto n√£o substitui consulta/parecer jur√≠dico formal. O assistente usa base especializada,
        fruto de anos de experi√™ncia pr√°tica na √°rea por Cl√°udio Lima.
      </div>
    </div>
  </div>

  <script>
    const senha     = document.getElementById('senha');
    const btnLogin  = document.getElementById('btnLogin');
    const loginMsg  = document.getElementById('loginMsg');
    const pergunta  = document.getElementById('pergunta');
    const btnAsk    = document.getElementById('btnAsk');
    const resposta  = document.getElementById('resposta');

    btnLogin.onclick = async () => {
      loginMsg.textContent = '';
      const r = await fetch('/login', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({password: senha.value || ''})
      });
      if (r.ok) {
        loginMsg.innerHTML = '<span class="ok">‚úÖ Senha aceita. Perguntas liberadas.</span>';
        pergunta.disabled = false; btnAsk.disabled = false;
        pergunta.focus();
      } else {
        const j = await r.json().catch(()=>({error:'Erro'}));
        loginMsg.innerHTML = '<span class="err">‚ùå ' + (j.error || 'Senha inv√°lida') + '</span>';
        pergunta.disabled = true; btnAsk.disabled = true;
      }
    };

    btnAsk.onclick = async () => {
      const q = (pergunta.value || '').trim();
      if (!q) return;
      resposta.value = 'Consultando...';
      const r = await fetch('/ask', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({question: q})
      });
      const j = await r.json().catch(()=>({answer:'Erro'}));
      resposta.value = j.answer || 'Sem resposta.';
    };
  </script>
</body>
</html>
